<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Weather App</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous">
  </head>
  <body style="background: url('https://img.freepik.com/free-vector/purple-watercolor-abstract-background_52683-73545.jpg?w=2000')">
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Weather</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="#">Contact</a>
            </li>
            </li>
          </ul>
          <form class="d-flex">
            <input
            id = "city"
              class="form-control me-2"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <button class="btn btn-outline-success" type="submit" id="submit">
              Search
            </button>
          </form>
        </div>
      </div>
    </nav>
    <div class="container" >
        <h1 class="my-4 text-center" style="color: red">Weather for <span id="cityName">Kolkata</span></h1>
      <main>
        <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
          <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-primary">
              <div class="card-header py-3 text-white bg-primary border-primary">
                <h4 class="my-0 fw-normal">Temperature</h4>
              </div>
              <div class="card-body">
                <h1 class="card-title pricing-card-title"><span id="tempMain"></span><small class="text-muted fw-light">&#8451;</small>
                </h1>
                <ul class="list-unstyled mt-3 mb-4">
                  <li>Temperature is <span id="temp"></span></li>
                  <li>Min Temp is <span id = "min_temp"></span></li>
                  <li>Max Temp is <span id = "max_temp"></span></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-primary">
              <div class="card-header py-3 text-white bg-primary border-primary">
                <h4 class="my-0 fw-normal">Humidity</h4>
              </div>
              <div class="card-body">
                <h1 class="card-title pricing-card-title">
                  <span id="humidityMain"></span><small class="text-muted fw-light">%</small>
                </h1>
                <ul class="list-unstyled mt-3 mb-4">
                  <li>Cloud PCT is <span id = "cloud_pct"></span></li>
                  <li>Feels like is <span id="feels_like"></span></li>
                  <li>Humidity is <span id="humidity"></span></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm border-primary">
              <div
                class="card-header py-3 text-white bg-primary border-primary"
              >
                <h4 class="my-0 fw-normal">Wind Speed</h4>
              </div>
              <div class="card-body">
                <h1 class="card-title pricing-card-title">
                  <span id = "wind_speedMain"></span><small class="text-muted fw-light">m/s</small>
                </h1>
                <ul class="list-unstyled mt-3 mb-4">
                    <li>Wind Speed is <span id = "wind_speed"></span></li>
                    <li>Sunrise time is <span id="sunrise"></span></li>
                    <li>Sunset time is <span id="sunset"></span></li>
                    <!-- <li>Wind degrees is <span id="wind_degrees"></span></li> -->
                </ul>
              </div>
            </div>
          </div>
        </div>

        <h2 class="display-6 text-center mb-4" style="color: green;">
          Weather of other common places
        </h2>

        <div class="table-responsive">
          <table class="table text-center">
            <thead>
              <tr>
                <th style="width: 34%"></th>
                <th style="width: 22%">Cloud_pct</th>
                <th style="width: 22%">Feels_like</th>
                <th style="width: 22%">Humidity</th>
                <th style="width: 22%">Max_temp</th>
                <th style="width: 22%">Min_temp</th>
                <th style="width: 22%">Sunrise</th>
                <th style="width: 22%">Sunset</th>
                <th style="width: 22%">Temp</th>
                <th style="width: 22%">Wind_degrees</th>
                <th style="width: 22%">Wind_speed</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row" class="text-start"> <span id="cityName1">Kolkata</span></th>
                <td><span id="cloud_pct1"></span></td>
                <td><span id = "feels_like1"></span></td>
                <td><span id="humidity1"></span></td>
                <td><span id = "max_temp1"></span></td>
                <td><span id="min_temp1"></span></td>
                <td><span id = "sunrise1"></span></td>
                <td><span id="sunset1"></span></td>
                <td><span id = "temp1"></span></td>
                <td><span id="wind_degrees1"></span></td>
                <td><span id = "wind_speed1"></span></td>
              </tr>
              <tr>
                <th scope="row" class="text-start">Mumbai</th>
                <td><span id="cloud_pct2"></span></td>
                <td><span id = "feels_like2"></span></td>
                <td><span id="humidity2"></span></td>
                <td><span id = "max_temp2"></span></td>
                <td><span id="min_temp2"></span></td>
                <td><span id = "sunrise2"></span></td>
                <td><span id="sunset2"></span></td>
                <td><span id = "temp2"></span></td>
                <td><span id="wind_degrees2"></span></td>
                <td><span id = "wind_speed2"></span></td>
              </tr>
              <tr>
                <th scope="row" class="text-start">Delhi</th>
                <td><span id="cloud_pct3"></span></td>
                <td><span id = "feels_like3"></span></td>
                <td><span id="humidity3"></span></td>
                <td><span id = "max_temp3"></span></td>
                <td><span id="min_temp3"></span></td>
                <td><span id = "sunrise3"></span></td>
                <td><span id="sunset3"></span></td>
                <td><span id = "temp3"></span></td>
                <td><span id="wind_degrees3"></span></td>
                <td><span id = "wind_speed3"></span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </main>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script>const options = {
  method: "GET",
  headers: {
    "X-RapidAPI-Key": "b3ac675d74msh84fbee447d6046fp175a55jsn727a4cb8a6cd",
    "X-RapidAPI-Host": "weather-by-api-ninjas.p.rapidapi.com",
  },
};

const getWeather = (city) => {
  cityName.innerHTML = city
  fetch(
    "https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city="+ city,
    options
  )
    .then((response) => response.json())
    .then((response) => {
      console.log(response);
      cloud_pct.innerHTML = response.cloud_pct;
      feels_like.innerHTML = response.feels_like;
      humidity.innerHTML = response.humidity;
      humidityMain.innerHTML = response.humidity;
      max_temp.innerHTML = response.max_temp;
      min_temp.innerHTML = response.min_temp;
      sunrise.innerHTML = response.sunrise;
      sunset.innerHTML = response.sunset;
      temp.innerHTML = response.temp;
      tempMain.innerHTML = response.temp;
      // wind_degrees.innerHTML = response.wind_degrees;
      wind_speed.innerHTML = response.wind_speed;
      wind_speedMain.innerHTML = response.wind_speed;
    })
    .catch((err) => console.error(err));
}
submit.addEventListener("click",(e)=>{
  e.preventDefault()
  getWeather(city.value)

})
getWeather("Kolkata");
  fetch(
    "https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city=kolkata",
    options
  )
    .then((response) => response.json())
    .then((response) => {
      console.log(response);
      cloud_pct1.innerHTML = response.cloud_pct;
      feels_like1.innerHTML = response.feels_like;
      humidity1.innerHTML = response.humidity;
      max_temp1.innerHTML = response.max_temp;
      min_temp1.innerHTML = response.min_temp;
      sunrise1.innerHTML = response.sunrise;
      sunset1.innerHTML = response.sunset;
      temp1.innerHTML = response.temp;
      wind_degrees1.innerHTML = response.wind_degrees;
      wind_speed1.innerHTML = response.wind_speed;
    })
    .catch((err) => console.error(err));
    fetch(
      "https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city=mumbai",
      options
    )
      .then((response) => response.json())
      .then((response) => {
        console.log(response);
        cloud_pct2.innerHTML = response.cloud_pct;
        feels_like2.innerHTML = response.feels_like;
        humidity2.innerHTML = response.humidity;
        max_temp2.innerHTML = response.max_temp;
        min_temp2.innerHTML = response.min_temp;
        sunrise2.innerHTML = response.sunrise;
        sunset2.innerHTML = response.sunset;
        temp2.innerHTML = response.temp;
        wind_degrees2.innerHTML = response.wind_degrees;
        wind_speed2.innerHTML = response.wind_speed;
      })
      .catch((err) => console.error(err));
fetch("https://weather-by-api-ninjas.p.rapidapi.com/v1/weather?city=delhi",options)
  .then((response) => response.json())
  .then((response) => {
    console.log(response);
    cloud_pct3.innerHTML = response.cloud_pct;
    feels_like3.innerHTML = response.feels_like;
    humidity3.innerHTML = response.humidity;
    max_temp3.innerHTML = response.max_temp;
    min_temp3.innerHTML = response.min_temp;
    sunrise3.innerHTML = response.sunrise;
    sunset3.innerHTML = response.sunset;
    temp3.innerHTML = response.temp;
    wind_degrees3.innerHTML = response.wind_degrees;
    wind_speed3.innerHTML = response.wind_speed;
   })
  .catch((err) => console.error(err));</script>
  </body>
</html>
